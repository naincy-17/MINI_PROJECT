<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Transactions - Budget Planner</title>
    <link rel="stylesheet" href="style.css">
</head>
<body class="transactions-page">
    <header class="header">
        <nav class="nav">
            <div class="logo">ðŸ’° Budget Planning Website</div>
            <ul class="nav-links">
                <li><a href="index.html">Home</a></li>
                <li><a href="about.html">About</a></li>
                <li><a href="features.html">Features</a></li>
                <li><a href="transactions.html" class="active">Transactions</a></li>
                <li><a href="budget.html">Budget</a></li>
                <li><a href="contact.html">Contact</a></li>
            </ul>
            <button class="login-btn" onclick="openModal()">Login</button>
        </nav>
    </header>

    <main class="container" style="margin-top:100px;">
        <h1 class="section-title">Transactions</h1>

        <section class="objective-card" style="margin-bottom:1.5rem;">
            <h3>Add Transaction</h3>
            <form id="txForm">
                <div class="form-group">
                    <label for="person">Person</label>
                    <div style="display:flex; gap:0.5rem; align-items:center;">
                        <input id="person" placeholder="e.g., Mom, Rahul, Me" required style="flex:1;">
                        <select id="personType" style="width:160px; padding:0.5rem; border-radius:6px; border:1px solid #ddd;">
                            <option value="Homemaker">Homemaker</option>
                            <option value="Student">Student</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label for="type">Type</label>
                    <select id="type">
                        <option value="expense">Expense</option>
                        <option value="income">Income</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="category">Category</label>
                    <select id="category"></select>
                    <div style="display:flex; gap:0.5rem; margin-top:0.6rem; align-items:center;">
                        <input id="newCategoryInput" placeholder="Add new custom category (optional)" style="flex:1; padding:0.5rem; border-radius:6px; border:1px solid #ddd;">
                        <button type="button" id="addCategoryBtn" class="btn btn-secondary" style="padding:0.5rem 0.8rem;">Add</button>
                    </div>
                    <div id="categoryList" style="margin-top:0.6rem; font-size:0.95rem; color:#555"></div>
                </div>
                <div class="form-group">
                    <label for="amount">Amount</label>
                    <input id="amount" type="number" step="0.01" placeholder="0.00" required>
                </div>
                <div class="form-group">
                    <label for="date">Date</label>
                    <input id="date" type="date" required>
                </div>
                <div class="form-group">
                    <label for="note">Note (optional)</label>
                    <input id="note" placeholder="Short note">
                </div>
                <button type="submit" class="submit-btn">Add Transaction</button>
            </form>
        </section>

        <section style="display: grid; grid-template-columns: 1fr 360px; gap:1.5rem;">
            <div class="objective-card">
                <h3>All Transactions</h3>
                <div style="overflow:auto; max-height:420px;">
                    <table id="txTable" style="width:100%; border-collapse:collapse;">
                        <thead>
                            <tr style="text-align:left; border-bottom:1px solid #e0e0e0;">
                                <th>Date</th><th>Person</th><th>Type</th><th>Category</th><th>Amount</th><th></th>
                            </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                </div>
            </div>

            <aside>
                <div class="objective-card" id="spendingPanel">
                    <h3>Spending Overview</h3>
                    <div style="display:flex;gap:1rem;margin-top:0.5rem;">
                        <div style="flex:1;">
                            <div style="color:#666;font-size:0.9rem;">Total Budget</div>
                            <div id="totalBudgetSmall" style="font-weight:bold;font-size:1.2rem;">â‚¹0</div>
                        </div>
                        <div style="flex:1;">
                            <div style="color:#666;font-size:0.9rem;">Total Spent</div>
                            <div id="totalSpentSmall" style="font-weight:bold;font-size:1.2rem;">â‚¹0</div>
                        </div>
                    </div>
                    <div style="margin-top:1rem;"><strong>Category Budgets</strong> <button id="addBudgetQuick" class="btn btn-secondary" style="float:right;padding:0.25rem 0.6rem;">Add Category</button></div>
                    <div id="spendingCategoryList" style="margin-top:0.8rem; max-height:220px; overflow:auto;"></div>
                </div>

                <div class="objective-card">
                    <h3>Summary by Person</h3>
                    <div id="personSummary"></div>
                </div>

                <div class="objective-card" style="margin-top:1rem;">
                    <h3>Summary by Category</h3>
                    <div id="categorySummary"></div>
                </div>
            </aside>
        </section>

    </main>

    <script src="script.js"></script>
    <script src="transactions.js"></script>
</body>
</html>
